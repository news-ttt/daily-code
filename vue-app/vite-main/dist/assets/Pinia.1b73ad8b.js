var d=Object.defineProperty;var i=Object.getOwnPropertySymbols;var m=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable;var l=(e,o,t)=>o in e?d(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,c=(e,o)=>{for(var t in o||(o={}))m.call(o,t)&&l(e,t,o[t]);if(i)for(var t of i(o))p.call(o,t)&&l(e,t,o[t]);return e};import{defineComponent as g,resolveComponent as f,openBlock as h,createElementBlock as _,createElementVNode as s,toDisplayString as r,createVNode as C,withCtx as v,createTextVNode as A}from"vue";import{defineStore as $}from"pinia";import S from"axios";import{ElMessage as k}from"element-plus";import{_ as y}from "./index.9c40ad46.js";import"./vendor.4db0ff8c.js";import"vue-router";const a=S.create();a.interceptors.request.use(e=>(console.log(e),e));a.interceptors.response.use(e=>(console.log("res --->",e),e.status===200?Promise.resolve(e.data):Promise.reject(e)));var N={login: e=>a({method:"post",url:"/users/login",data:e})},P={user:N};const w=$({id:"user",state:()=>({name:"",isAdmin:!1,signature:""}),actions:{logout(){this.$patch({name:"",isAdmin:!1})},async login(e, o){const t=await P.user.login({user:e,password:o}),n=c({name:e},t.data);console.log("login-success",n),this.$patch(n)}}}),B=g({components:{},setup(){const e=w();return{user:e,handleAddCart:async()=>{console.log(e),await e.login("admin","root"),console.log("handleAddCart --->"),k.success("Login Success~")}}}}),E={class:"Pinia"},V=A("\u767B\u5F55"),b=s("hr",null,null,-1);function q(e, o, t, n, x, D){const u=f("el-button");return h(),_("div",E,[s("p",null," name: "+r(e.user.name),1),s("p",null," signature: "+r(e.user.signature||""),1),s("p",null,r(JSON.stringify(e.user)),1),C(u,{onClick:e.handleAddCart},{default:v(()=>[V]),_:1},8,["onClick"]),b])}var z=y(B,[["render",q]]);export{z as default};
